import{k as P,l as R,m as I,n as y,p as M,q as w,v as j,f as u,x as m,y as O,z as A,A as x,g,o as v,a as o,b as _,Q as $,t as D,u as E,r as K,c as U,w as p,e as G}from"./index-DeQagpOe.js";import{Q as J,_ as T,M as W,a as X,b as Y}from"./menuSmall-C6Omhtjy.js";import{Q as Z}from"./QResizeObserver-DAOWgbj7.js";import{_ as ee,a as te}from"./timeSlider-DBou1h40.js";import{u as V}from"./useStatus-DfmcMskb.js";import"./_plugin-vue_export-helper-BlbCWXcL.js";import"./QMenu-C8w1g44j.js";import"./position-engine-CnwmW3iy.js";import"./delayedTooltip-DqsM_ue-.js";import"./usePlayer-ZZqkXdVY.js";import"./socketio-56qHkbI6.js";import"./QSlider-B15UiObp.js";import"./TouchPan-C6agH69l.js";import"./format-CJebrXOQ.js";const ae=P({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(a,{slots:n,emit:d}){const{proxy:{$q:r}}=R(),t=I(M,y);if(t===y)return console.error("QFooter needs to be child of QLayout"),y;const i=w(parseInt(a.heightHint,10)),c=w(!0),b=w(j.value===!0||t.isContainer.value===!0?0:window.innerHeight),h=u(()=>a.reveal===!0||t.view.value.indexOf("F")!==-1||r.platform.is.ios&&t.isContainer.value===!0),C=u(()=>t.isContainer.value===!0?t.containerHeight.value:b.value),Q=u(()=>{if(a.modelValue!==!0)return 0;if(h.value===!0)return c.value===!0?i.value:0;const e=t.scroll.value.position+C.value+i.value-t.height.value;return e>0?e:0}),q=u(()=>a.modelValue!==!0||h.value===!0&&c.value!==!0),B=u(()=>a.modelValue===!0&&q.value===!0&&a.reveal===!0),H=u(()=>"q-footer q-layout__section--marginal "+(h.value===!0?"fixed":"absolute")+"-bottom"+(a.bordered===!0?" q-footer--bordered":"")+(q.value===!0?" q-footer--hidden":"")+(a.modelValue!==!0?" q-layout--prevent-focus"+(h.value!==!0?" hidden":""):"")),S=u(()=>{const e=t.rows.value.bottom,s={};return e[0]==="l"&&t.left.space===!0&&(s[r.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),e[2]==="r"&&t.right.space===!0&&(s[r.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),s});function l(e,s){t.update("footer",e,s)}function f(e,s){e.value!==s&&(e.value=s)}function F({height:e}){f(i,e),l("size",e)}function k(){if(a.reveal!==!0)return;const{direction:e,position:s,inflectionPoint:N}=t.scroll.value;f(c,e==="up"||s-N<100||t.height.value-C.value-s-i.value<300)}function L(e){B.value===!0&&f(c,!0),d("focusin",e)}m(()=>a.modelValue,e=>{l("space",e),f(c,!0),t.animate()}),m(Q,e=>{l("offset",e)}),m(()=>a.reveal,e=>{e===!1&&f(c,a.modelValue)}),m(c,e=>{t.animate(),d("reveal",e)}),m([i,t.scroll,t.height],k),m(()=>r.screen.height,e=>{t.isContainer.value!==!0&&f(b,e)});const z={};return t.instances.footer=z,a.modelValue===!0&&l("size",i.value),l("space",a.modelValue),l("offset",Q.value),O(()=>{t.instances.footer===z&&(t.instances.footer=void 0,l("size",0),l("offset",0),l("space",!1))}),()=>{const e=A(n.default,[x(Z,{debounce:0,onResize:F})]);return a.elevated===!0&&e.push(x("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),x("footer",{class:H.value,style:S.value,onFocusin:L},e)}}}),oe={class:"row no-wrap justify-center items-center q-mt-sm"},se={key:0,class:"row items-center q-gutter-x-sm"},re={class:"text-bold"},ne={key:1,class:"text-grey"},le={__name:"mediaName",setup(a){const n=u(()=>V().pStatus.player[d.activePlayerId]?.file||{}),{pStatus:d}=V();return(r,t)=>(v(),g("div",oe,[n.value?(v(),g("div",se,[o($,{name:n.value.is_image?"image":"video_library",size:"sm",color:"primary"},null,8,["name"]),_("span",re,D(n.value.filename?n.value.filename:"No media selected"),1)])):(v(),g("div",ne,"No media selected"))]))}},ue={__name:"PlayControl",setup(a){return(n,d)=>(v(),g("div",null,[_("div",null,[o(ee),o(le),o(te)])]))}},ie={class:"router-view"},Qe={__name:"MainLayout",setup(a){const n=E();return(d,r)=>{const t=K("router-view");return v(),U(Y,{view:"lHh Lpr lFf"},{default:p(()=>[o(J,{class:"header row no-wrap justify-between items-center"},{default:p(()=>[_("div",{class:"row q-gutter-x-sm pointer",onClick:r[0]||(r[0]=i=>G(n).push("/"))},[o($,{name:"svguse:icons.svg#logo",size:"md"}),r[1]||(r[1]=_("div",{class:"header-font"},"Player Controls",-1))]),o(T,{class:"gt-xs"}),o(W,{class:"lt-sm"})]),_:1}),o(X,null,{default:p(()=>[_("div",ie,[o(t)])]),_:1}),o(ae,{class:"footer"},{default:p(()=>[o(ue)]),_:1})]),_:1})}}};export{Qe as default};
