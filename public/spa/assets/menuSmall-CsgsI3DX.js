import{Q as U}from"./QResizeObserver-DpQF_xkY.js";import{k as R,l as H,m as D,n as $,p as W,q as w,f as v,x as L,y as Y,B as Z,A as h,C as ee,D as G,E as te,F as le,G as oe,H as ne,I as ae,J as ie,K as re,L as se,M as F,v as ue,N as P,O as ce,z as de,u as fe,g as J,o as X,a as u,w as f,b as I,P as O,e as M,R as C,Q as N,S as k}from"./index-e6m8LkIT.js";import{_ as ve,Q as ge,a as A,b as T}from"./_plugin-vue_export-helper--f-LqC-J.js";import{Q as me}from"./QMenu-DfVQq8n0.js";const Qe=R({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:r,emit:a}){const{proxy:{$q:l}}=H(),o=D(W,$);if(o===$)return console.error("QHeader needs to be child of QLayout"),$;const s=w(parseInt(e.heightHint,10)),d=w(!0),_=v(()=>e.reveal===!0||o.view.value.indexOf("H")!==-1||l.platform.is.ios&&o.isContainer.value===!0),y=v(()=>{if(e.modelValue!==!0)return 0;if(_.value===!0)return d.value===!0?s.value:0;const t=s.value-o.scroll.value.position;return t>0?t:0}),c=v(()=>e.modelValue!==!0||_.value===!0&&d.value!==!0),Q=v(()=>e.modelValue===!0&&c.value===!0&&e.reveal===!0),x=v(()=>"q-header q-layout__section--marginal "+(_.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(c.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),S=v(()=>{const t=o.rows.value.top,m={};return t[0]==="l"&&o.left.space===!0&&(m[l.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),t[2]==="r"&&o.right.space===!0&&(m[l.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),m});function i(t,m){o.update("header",t,m)}function p(t,m){t.value!==m&&(t.value=m)}function V({height:t}){p(s,t),i("size",t)}function B(t){Q.value===!0&&p(d,!0),a("focusin",t)}L(()=>e.modelValue,t=>{i("space",t),p(d,!0),o.animate()}),L(y,t=>{i("offset",t)}),L(()=>e.reveal,t=>{t===!1&&p(d,e.modelValue)}),L(d,t=>{o.animate(),a("reveal",t)}),L(o.scroll,t=>{e.reveal===!0&&p(d,t.direction==="up"||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)});const q={};return o.instances.header=q,e.modelValue===!0&&i("size",s.value),i("space",e.modelValue),i("offset",y.value),Y(()=>{o.instances.header===q&&(o.instances.header=void 0,i("size",0),i("offset",0),i("space",!1))}),()=>{const t=Z(r.default,[]);return e.elevated===!0&&t.push(h("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(h(U,{debounce:0,onResize:V})),h("header",{class:x.value,style:S.value,onFocusin:B},t)}}}),Te=R({name:"QPageContainer",setup(e,{slots:r}){const{proxy:{$q:a}}=H(),l=D(W,$);if(l===$)return console.error("QPageContainer needs to be child of QLayout"),$;G(te,!0);const o=v(()=>{const s={};return l.header.space===!0&&(s.paddingTop=`${l.header.size}px`),l.right.space===!0&&(s[`padding${a.lang.rtl===!0?"Left":"Right"}`]=`${l.right.size}px`),l.footer.space===!0&&(s.paddingBottom=`${l.footer.size}px`),l.left.space===!0&&(s[`padding${a.lang.rtl===!0?"Right":"Left"}`]=`${l.left.size}px`),s});return()=>h("div",{class:"q-page-container",style:o.value},ee(r.default))}}),{passive:j}=le,he=["both","horizontal","vertical"],ye=R({name:"QScrollObserver",props:{axis:{type:String,validator:e=>he.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:oe},emits:["scroll"],setup(e,{emit:r}){const a={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let l=null,o,s;L(()=>e.scrollTarget,()=>{y(),_()});function d(){l?.();const x=Math.max(0,re(o)),S=se(o),i={top:x-a.position.top,left:S-a.position.left};if(e.axis==="vertical"&&i.top===0||e.axis==="horizontal"&&i.left===0)return;const p=Math.abs(i.top)>=Math.abs(i.left)?i.top<0?"up":"down":i.left<0?"left":"right";a.position={top:x,left:S},a.directionChanged=a.direction!==p,a.delta=i,a.directionChanged===!0&&(a.direction=p,a.inflectionPoint=a.position),r("scroll",{...a})}function _(){o=ne(s,e.scrollTarget),o.addEventListener("scroll",c,j),c(!0)}function y(){o!==void 0&&(o.removeEventListener("scroll",c,j),o=void 0)}function c(x){if(x===!0||e.debounce===0||e.debounce==="0")d();else if(l===null){const[S,i]=e.debounce?[setTimeout(d,e.debounce),clearTimeout]:[requestAnimationFrame(d),cancelAnimationFrame];l=()=>{i(S),l=null}}}const{proxy:Q}=H();return L(()=>Q.$q.lang.rtl,d),ae(()=>{s=Q.$el.parentNode,_()}),Y(()=>{l?.(),y()}),Object.assign(Q,{trigger:c,getPosition:()=>a}),ie}}),$e=R({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:r,emit:a}){const{proxy:{$q:l}}=H(),o=w(null),s=w(l.screen.height),d=w(e.container===!0?0:l.screen.width),_=w({position:0,direction:"down",inflectionPoint:0}),y=w(0),c=w(ue.value===!0?0:F()),Q=v(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),x=v(()=>e.container===!1?{minHeight:l.screen.height+"px"}:null),S=v(()=>c.value!==0?{[l.lang.rtl===!0?"left":"right"]:`${c.value}px`}:null),i=v(()=>c.value!==0?{[l.lang.rtl===!0?"right":"left"]:0,[l.lang.rtl===!0?"left":"right"]:`-${c.value}px`,width:`calc(100% + ${c.value}px)`}:null);function p(n){if(e.container===!0||document.qScrollPrevented!==!0){const g={position:n.position.top,direction:n.direction,directionChanged:n.directionChanged,inflectionPoint:n.inflectionPoint.top,delta:n.delta.top};_.value=g,e.onScroll!==void 0&&a("scroll",g)}}function V(n){const{height:g,width:z}=n;let b=!1;s.value!==g&&(b=!0,s.value=g,e.onScrollHeight!==void 0&&a("scrollHeight",g),q()),d.value!==z&&(b=!0,d.value=z),b===!0&&e.onResize!==void 0&&a("resize",n)}function B({height:n}){y.value!==n&&(y.value=n,q())}function q(){if(e.container===!0){const n=s.value>y.value?F():0;c.value!==n&&(c.value=n)}}let t=null;const m={instances:{},view:v(()=>e.view),isContainer:v(()=>e.container),rootRef:o,height:s,containerHeight:y,scrollbarWidth:c,totalWidth:v(()=>d.value+c.value),rows:v(()=>{const n=e.view.toLowerCase().split(" ");return{top:n[0].split(""),middle:n[1].split(""),bottom:n[2].split("")}}),header:P({size:0,offset:0,space:!1}),right:P({size:300,offset:0,space:!1}),footer:P({size:0,offset:0,space:!1}),left:P({size:300,offset:0,space:!1}),scroll:_,animate(){t!==null?clearTimeout(t):document.body.classList.add("q-body--layout-animate"),t=setTimeout(()=>{t=null,document.body.classList.remove("q-body--layout-animate")},155)},update(n,g,z){m[n][g]=z}};if(G(W,m),F()>0){let n=function(){b=null,E.classList.remove("hide-scrollbar")},g=function(){if(b===null){if(E.scrollHeight>l.screen.height)return;E.classList.add("hide-scrollbar")}else clearTimeout(b);b=setTimeout(n,300)},z=function(K){b!==null&&K==="remove"&&(clearTimeout(b),n()),window[`${K}EventListener`]("resize",g)},b=null;const E=document.body;L(()=>e.container!==!0?"add":"remove",z),e.container!==!0&&z("add"),ce(()=>{z("remove")})}return()=>{const n=de(r.default,[h(ye,{onScroll:p}),h(U,{onResize:V})]),g=h("div",{class:Q.value,style:x.value,ref:e.container===!0?void 0:o,tabindex:-1},n);return e.container===!0?h("div",{class:"q-layout-container overflow-hidden",ref:o},[h(U,{onResize:B}),h("div",{class:"absolute-full",style:S.value},[h("div",{class:"scroll",style:i.value},[g])])]):g}}}),pe={class:"q-gutter-x-md"},qe={__name:"menuFull",setup(e){const r=fe();return(a,l)=>(X(),J("div",pe,[u(C,{class:O(M(r).currentRoute.value.path==="/files"?"bg-grey-2 text-bold":""),style:{"border-radius":"10px"},flat:"",to:"/files"},{default:f(()=>l[0]||(l[0]=[I("div",null,"FILES",-1)])),_:1,__:[0]},8,["class"]),u(C,{class:O(M(r).currentRoute.value.path==="/playlist"?"bg-grey-2 text-bold":""),style:{"border-radius":"10px"},flat:"",to:"/playlist"},{default:f(()=>l[1]||(l[1]=[I("div",null,"PLAYLIST",-1)])),_:1,__:[1]},8,["class"]),u(C,{class:O(M(r).currentRoute.value.path==="/setup"?"bg-grey-2 text-bold":""),style:{"border-radius":"10px"},flat:"",to:"/settings"},{default:f(()=>l[2]||(l[2]=[I("div",null,"SETUP",-1)])),_:1,__:[2]},8,["class"])]))}},be={},_e={class:"q-gutter-x-md",style:{"padding-top":"5px"}};function xe(e,r){return X(),J("div",_e,[u(C,{style:{"border-radius":"10px"},flat:"",icon:"menu",color:"grey-8"},{default:f(()=>[u(me,null,{default:f(()=>[u(ge,{separator:"",style:{"min-width":"150px"}},{default:f(()=>[u(A,{clickable:"",to:"/files"},{default:f(()=>[u(T,{avatar:""},{default:f(()=>[u(N,{name:"folder",size:"sm",color:"yellow"})]),_:1}),u(T,null,{default:f(()=>r[0]||(r[0]=[k(" FILES ")])),_:1,__:[0]})]),_:1}),u(A,{clickable:"",to:"/playlist"},{default:f(()=>[u(T,{avatar:""},{default:f(()=>[u(N,{name:"list",size:"sm",color:"blue-10"})]),_:1}),u(T,null,{default:f(()=>r[1]||(r[1]=[k(" PLAYLIST ")])),_:1,__:[1]})]),_:1}),u(A,{clickable:"",to:"/setup"},{default:f(()=>[u(T,{avatar:""},{default:f(()=>[u(N,{name:"settings",size:"sm",color:"grey-8"})]),_:1}),u(T,null,{default:f(()=>r[2]||(r[2]=[k(" SETUP ")])),_:1,__:[2]})]),_:1})]),_:1})]),_:1})]),_:1})])}const Pe=ve(be,[["render",xe]]);export{Pe as M,Qe as Q,qe as _,Te as a,$e as b};
