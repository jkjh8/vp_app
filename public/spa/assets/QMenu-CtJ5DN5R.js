import{i as C,q as n,z as m,B as A,aX as re,Z as R,j as D,_ as K,aY as ce,n as x,am as de,ao as X,A as fe,aZ as ve,F as me,a_ as ge,a$ as he,ah as be,ai as qe,b0 as ke,b1 as ye,b2 as Be,v as N,b3 as xe,b4 as U,b5 as Ce,au as Se,b6 as Pe,G as Te,b7 as Ee,b8 as Oe,aw as _e,x as Fe,b9 as we}from"./index-D06vnydI.js";import{v as Ae,a as Z,u as Re,b as De,d as Ke,p as z,e as Le,r as G,s as Me}from"./position-engine-CCjzhR2y.js";const He=C({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:d}){const l=n(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>m("div",{class:l.value},A(d.default))}}),Ie=C({name:"QItem",props:{...R,...re,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:d,emit:l}){const{proxy:{$q:c}}=D(),s=K(e,c),{hasLink:i,linkAttrs:f,linkClass:g,linkTag:y,navigateOnClick:h}=ce(),o=x(null),u=x(null),r=n(()=>e.clickable===!0||i.value===!0||e.tag==="label"),v=n(()=>e.disable!==!0&&r.value===!0),S=n(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(s.value===!0?" q-item--dark":"")+(i.value===!0&&e.active===null?g.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(v.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),P=n(()=>e.insetLevel===void 0?null:{["padding"+(c.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function T(a){v.value===!0&&(u.value!==null&&a.qAvoidFocus!==!0&&(a.qKeyEvent!==!0&&document.activeElement===o.value?u.value.focus():document.activeElement===u.value&&o.value.focus()),h(a))}function B(a){if(v.value===!0&&de(a,[13,32])===!0){X(a),a.qKeyEvent=!0;const b=new MouseEvent("click",a);b.qKeyEvent=!0,o.value.dispatchEvent(b)}l("keyup",a)}function E(){const a=fe(d.default,[]);return v.value===!0&&a.unshift(m("div",{class:"q-focus-helper",tabindex:-1,ref:u})),a}return()=>{const a={ref:o,class:S.value,style:P.value,role:"listitem",onClick:T,onKeyup:B};return v.value===!0?(a.tabindex=e.tabindex||"0",Object.assign(a,f.value)):r.value===!0&&(a["aria-disabled"]="true"),m(y.value,a,E())}}}),Qe=["ul","ol"],We=C({name:"QList",props:{...R,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:d}){const l=D(),c=K(e,l.proxy.$q),s=n(()=>Qe.includes(e.tag)?null:"list"),i=n(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(c.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>m(e.tag,{class:i.value,role:s.value},A(d.default))}}),Ne=C({name:"QMenu",inheritAttrs:!1,props:{...Re,...he,...R,...ge,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Z},self:{type:String,validator:Z},offset:{type:Array,validator:Ae},scrollTarget:me,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...ve,"click","escapeKey"],setup(e,{slots:d,emit:l,attrs:c}){let s=null,i,f,g;const y=D(),{proxy:h}=y,{$q:o}=h,u=x(null),r=x(!1),v=n(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),S=K(e,o),{registerTick:P,removeTick:T}=be(),{registerTimeout:B}=qe(),{transitionProps:E,transitionStyle:a}=ke(e),{localScrollTarget:b,changeScrollEvent:Y,unconfigureScrollTarget:J}=De(e,I),{anchorEl:q,canShow:V}=Ke({showing:r}),{hide:L}=ye({showing:r,canShow:V,handleShow:ne,handleHide:oe,hideOnRouteChange:v,processOnMount:!0}),{showPortal:M,hidePortal:Q,renderPortal:p}=Be(y,u,le,"menu"),O={anchorEl:q,innerRef:u,onClickOutside(t){if(e.persistent!==!0&&r.value===!0)return L(t),(t.type==="touchstart"||t.target.classList.contains("q-dialog__backdrop"))&&X(t),!0}},$=n(()=>z(e.anchor||(e.cover===!0?"center middle":"bottom start"),o.lang.rtl)),ee=n(()=>e.cover===!0?$.value:z(e.self||"top start",o.lang.rtl)),te=n(()=>(e.square===!0?" q-menu--square":"")+(S.value===!0?" q-menu--dark q-dark":"")),ae=n(()=>e.autoClose===!0?{onClick:ue}:{}),j=n(()=>r.value===!0&&e.persistent!==!0);N(j,t=>{t===!0?(xe(F),Le(O)):(U(F),G(O))});function _(){we(()=>{let t=u.value;t&&t.contains(document.activeElement)!==!0&&(t=t.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||t.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||t.querySelector("[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))})}function ne(t){if(s=e.noRefocus===!1?document.activeElement:null,Ce(W),M(),I(),i=void 0,t!==void 0&&(e.touchPosition||e.contextMenu)){const w=Se(t);if(w.left!==void 0){const{top:se,left:ie}=q.value.getBoundingClientRect();i={left:w.left-ie,top:w.top-se}}}f===void 0&&(f=N(()=>o.screen.width+"|"+o.screen.height+"|"+e.self+"|"+e.anchor+"|"+o.lang.rtl,k)),e.noFocus!==!0&&document.activeElement.blur(),P(()=>{k(),e.noFocus!==!0&&_()}),B(()=>{o.platform.is.ios===!0&&(g=e.autoClose,u.value.click()),k(),M(!0),l("show",t)},e.transitionDuration)}function oe(t){T(),Q(),H(!0),s!==null&&(t===void 0||t.qClickOutside!==!0)&&(((t?.type.indexOf("key")===0?s.closest('[tabindex]:not([tabindex^="-"])'):void 0)||s).focus(),s=null),B(()=>{Q(!0),l("hide",t)},e.transitionDuration)}function H(t){i=void 0,f!==void 0&&(f(),f=void 0),(t===!0||r.value===!0)&&(Pe(W),J(),G(O),U(F)),t!==!0&&(s=null)}function I(){(q.value!==null||e.scrollTarget!==void 0)&&(b.value=Te(q.value,e.scrollTarget),Y(b.value,k))}function ue(t){g!==!0?(Ee(h,t),l("click",t)):g=!1}function W(t){j.value===!0&&e.noFocus!==!0&&Oe(u.value,t.target)!==!0&&_()}function F(t){e.noEscDismiss!==!0&&(l("escapeKey"),L(t))}function k(){Me({targetEl:u.value,offset:e.offset,anchorEl:q.value,anchorOrigin:$.value,selfOrigin:ee.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function le(){return m(_e,E.value,()=>r.value===!0?m("div",{role:"menu",...c,ref:u,tabindex:-1,class:["q-menu q-position-engine scroll"+te.value,c.class],style:[c.style,a.value],...ae.value},A(d.default)):null)}return Fe(H),Object.assign(h,{focus:_,updatePosition:k}),p}});export{Ne as Q,We as a,Ie as b,He as c};
