import{ad as n,q as a}from"./index-C8foiimD.js";import{a as d}from"./useStatus-Dh6OtihZ.js";const p=n("files",()=>{const t=a([]),{apiCallWithLoading:o}=d();return{files:t,getFileList:async()=>{const e=await o("/files","GET",null,"Fetching file list...");t.value=e.data},deleteFile:async e=>{const l=await o(`/files/${e.uuid}`,"DELETE",null,`Deleting file ${e.uuid}...`);l.status===200?t.value=t.value.filter(s=>s.uuid!==e.uuid):console.error("Failed to delete file:",l.statusText)},downloadFile:async e=>{const l=await o(`/files/download/${e.uuid}`,"GET",null,`Downloading file ${e.uuid}...`),s=window.URL.createObjectURL(new Blob([l.data])),i=document.createElement("a");i.href=s,i.setAttribute("download",e.filename),document.body.appendChild(i),i.click()}}});export{p as u};
