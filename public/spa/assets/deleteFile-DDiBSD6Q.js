import{k as Be,m as ol,n as St,b6 as Vt,a1 as At,l as Ie,a2 as Bt,f as m,A as f,b7 as It,q as L,b2 as me,ag as se,aS as il,Y as Ot,Z as Rt,x as _e,y as tt,b8 as rl,ab as sl,a9 as cl,V as bt,af as dl,Q as Ve,R as $e,D as fl,a7 as vl,J as ml,a8 as ve,b9 as gl,_ as hl,a0 as Sl,$ as bl,ba as Et,bb as lt,bc as Mt,bd as Lt,ae as pl,aN as yl,a_ as _l,be as wl,bf as pt,bg as Cl,bh as Me,aP as kl,bi as Ge,bj as xl,bk as Fl,aO as ql,X as Tt,z as zl,c as Vl,o as Al,w as ye,a as ie,j as Bl,h as yt,b as Ne,t as Il,W as Ol,e as _t}from"./index-DebqotaF.js";import{b as Rl,h as wt,n as Ct}from"./format-CJebrXOQ.js";import{g as El,Q as Ml,u as Ll}from"./use-dialog-plugin-component-xIDKUNUJ.js";import{b as Tl,a as Dl,_ as Pl}from"./_plugin-vue_export-helper-DY1v03gG.js";import{Q as Ul}from"./QMenu-qPLKSX1R.js";import{_ as kt}from"./delayedTooltip-DhpwJeJT.js";const ya=Be({name:"QUploaderAddTrigger",setup(){const e=ol(Vt,St);return e===St&&console.error("QUploaderAddTrigger needs to be child of QUploader"),e}}),Nl={...At,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},et=50,Dt=2*et,Pt=Dt*Math.PI,Hl=Math.round(Pt*1e3)/1e3,$l=Be({name:"QCircularProgress",props:{...Nl,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:r}){const{proxy:{$q:n}}=Ie(),o=Bt(e),h=m(()=>{const b=(n.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(n.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-b}deg)`:`rotate3d(0, 0, 1, ${b-90}deg)`}}),i=m(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),C=m(()=>Dt/(1-e.thickness/2)),p=m(()=>`${C.value/2} ${C.value/2} ${C.value} ${C.value}`),y=m(()=>Rl(e.value,e.min,e.max)),R=m(()=>e.max-e.min),g=m(()=>e.thickness/2*C.value),k=m(()=>{const b=(e.max-y.value)/R.value,l=e.rounded===!0&&y.value<e.max&&b<.25?g.value/2*(1-b/.25):0;return Pt*b+l});function x({thickness:b,offset:l,color:V,cls:S,rounded:F}){return f("circle",{class:"q-circular-progress__"+S+(V!==void 0?` text-${V}`:""),style:i.value,fill:"transparent",stroke:"currentColor","stroke-width":b,"stroke-dasharray":Hl,"stroke-dashoffset":l,"stroke-linecap":F,cx:C.value,cy:C.value,r:et})}return()=>{const b=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&b.push(f("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:et-g.value/2,cx:C.value,cy:C.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&b.push(x({cls:"track",thickness:g.value,offset:0,color:e.trackColor})),b.push(x({cls:"circle",thickness:g.value,offset:k.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const l=[f("svg",{class:"q-circular-progress__svg",style:h.value,viewBox:p.value,"aria-hidden":"true"},b)];return e.showValue===!0&&l.push(f("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},r.default!==void 0?r.default():[f("div",y.value)])),f("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:o.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:y.value},It(r.internal,l))}}});function ze(e,r,n,o){const h=[];return e.forEach(i=>{o(i)===!0?h.push(i):r.push({failedPropValidation:n,file:i})}),h}function He(e){e?.dataTransfer&&(e.dataTransfer.dropEffect="copy"),se(e)}const jl={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Ql=["rejected"];function Kl({editable:e,dnd:r,getFileInput:n,addFilesToQueue:o}){const{props:h,emit:i,proxy:C}=Ie(),p=L(null),y=m(()=>h.accept!==void 0?h.accept.split(",").map(v=>(v=v.trim(),v==="*"?"*/":(v.endsWith("/*")&&(v=v.slice(0,v.length-1)),v.toUpperCase()))):null),R=m(()=>parseInt(h.maxFiles,10)),g=m(()=>parseInt(h.maxTotalSize,10));function k(v){if(e.value)if(v!==Object(v)&&(v={target:null}),v.target?.matches('input[type="file"]')===!0)v.clientX===0&&v.clientY===0&&me(v);else{const P=n();P!==v.target&&P?.click(v)}}function x(v){e.value&&v&&o(null,v)}function b(v,P,T,Z){let _=Array.from(P||v.target.files);const E=[],X=()=>{E.length!==0&&i("rejected",E)};if(h.accept!==void 0&&y.value.indexOf("*/")===-1&&(_=ze(_,E,"accept",O=>y.value.some(D=>O.type.toUpperCase().startsWith(D)||O.name.toUpperCase().endsWith(D))),_.length===0))return X();if(h.maxFileSize!==void 0){const O=parseInt(h.maxFileSize,10);if(_=ze(_,E,"max-file-size",D=>D.size<=O),_.length===0)return X()}if(h.multiple!==!0&&_.length!==0&&(_=[_[0]]),_.forEach(O=>{O.__key=O.webkitRelativePath+O.lastModified+O.name+O.size}),Z===!0){const O=T.map(D=>D.__key);_=ze(_,E,"duplicate",D=>O.includes(D.__key)===!1)}if(_.length===0)return X();if(h.maxTotalSize!==void 0){let O=Z===!0?T.reduce((D,G)=>D+G.size,0):0;if(_=ze(_,E,"max-total-size",D=>(O+=D.size,O<=g.value)),_.length===0)return X()}if(typeof h.filter=="function"){const O=h.filter(_);_=ze(_,E,"filter",D=>O.includes(D))}if(h.maxFiles!==void 0){let O=Z===!0?T.length:0;if(_=ze(_,E,"max-files",()=>(O++,O<=R.value)),_.length===0)return X()}if(X(),_.length!==0)return _}function l(v){He(v),r.value!==!0&&(r.value=!0)}function V(v){se(v),(v.relatedTarget!==null||il.is.safari!==!0?v.relatedTarget!==p.value:document.elementsFromPoint(v.clientX,v.clientY).includes(p.value)===!1)===!0&&(r.value=!1)}function S(v){He(v);const P=v.dataTransfer.files;P.length!==0&&o(null,P),r.value=!1}function F(v){if(r.value===!0)return f("div",{ref:p,class:`q-${v}__dnd absolute-full`,onDragenter:He,onDragover:He,onDragleave:V,onDrop:S})}return Object.assign(C,{pickFiles:k,addFiles:x}),{pickFiles:k,addFiles:x,onDragover:l,onDragleave:V,processFiles:b,getDndNode:F,maxFilesNumber:R,maxTotalSizeNumber:g}}function xt(e){return(e*100).toFixed(2)+"%"}const Wl={...Ot,...jl,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,thumbnailFit:{type:String,default:"cover"},autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},Ut=[...Ql,"start","finish","added","removed"];function Xl(e,r){const n=Ie(),{props:o,slots:h,emit:i,proxy:C}=n,{$q:p}=C,y=Rt(o,p);function R(u,q,$){if(u.__status=q,q==="idle"){u.__uploaded=0,u.__progress=0,u.__sizeLabel=wt(u.size),u.__progressLabel="0.00%";return}if(q==="failed"){C.$forceUpdate();return}u.__uploaded=q==="uploaded"?u.size:$,u.__progress=q==="uploaded"?1:Math.min(.9999,u.__uploaded/u.size),u.__progressLabel=xt(u.__progress),C.$forceUpdate()}const g=m(()=>o.disable!==!0&&o.readonly!==!0),k=L(!1),x=L(null),b=L(null),l={files:L([]),queuedFiles:L([]),uploadedFiles:L([]),uploadedSize:L(0),updateFileStatus:R,isAlive:()=>dl(n)===!1},{pickFiles:V,addFiles:S,onDragover:F,onDragleave:v,processFiles:P,getDndNode:T,maxFilesNumber:Z,maxTotalSizeNumber:_}=Kl({editable:g,dnd:k,getFileInput:a,addFilesToQueue:s});Object.assign(l,e({props:o,slots:h,emit:i,helpers:l,exposeApi:u=>{Object.assign(l,u)}})),l.isBusy===void 0&&(l.isBusy=L(!1));const E=L(0),X=m(()=>E.value===0?0:l.uploadedSize.value/E.value),O=m(()=>xt(X.value)),D=m(()=>wt(E.value)),G=m(()=>g.value===!0&&l.isUploading.value!==!0&&(o.multiple===!0||l.queuedFiles.value.length===0)&&(o.maxFiles===void 0||l.files.value.length<Z.value)&&(o.maxTotalSize===void 0||E.value<_.value)),w=m(()=>g.value===!0&&l.isBusy.value!==!0&&l.isUploading.value!==!0&&l.queuedFiles.value.length!==0);fl(Vt,Q);const ee=m(()=>"q-uploader column no-wrap"+(y.value===!0?" q-uploader--dark q-dark":"")+(o.bordered===!0?" q-uploader--bordered":"")+(o.square===!0?" q-uploader--square no-border-radius":"")+(o.flat===!0?" q-uploader--flat no-shadow":"")+(o.disable===!0?" disabled q-uploader--disable":"")+(k.value===!0?" q-uploader--dnd":"")),ae=m(()=>"q-uploader__header"+(o.color!==void 0?` bg-${o.color}`:"")+(o.textColor!==void 0?` text-${o.textColor}`:""));_e(l.isUploading,(u,q)=>{q===!1&&u===!0?i("start"):q===!0&&u===!1&&i("finish")});function te(){o.disable===!1&&(l.abort(),l.uploadedSize.value=0,E.value=0,fe(),l.files.value=[],l.queuedFiles.value=[],l.uploadedFiles.value=[])}function K(){o.disable===!1&&de(["uploaded"],()=>{l.uploadedFiles.value=[]})}function ce(){de(["idle","failed"],({size:u})=>{E.value-=u,l.queuedFiles.value=[]})}function de(u,q){if(o.disable===!0)return;const $={files:[],size:0},J=l.files.value.filter(j=>u.indexOf(j.__status)===-1?!0:($.size+=j.size,$.files.push(j),j.__img!==void 0&&window.URL.revokeObjectURL(j.__img.src),!1));$.files.length!==0&&(l.files.value=J,q($),i("removed",$.files))}function ne(u){o.disable||(u.__status==="uploaded"?l.uploadedFiles.value=l.uploadedFiles.value.filter(q=>q.__key!==u.__key):u.__status==="uploading"?u.__abort():E.value-=u.size,l.files.value=l.files.value.filter(q=>q.__key!==u.__key?!0:(q.__img!==void 0&&window.URL.revokeObjectURL(q.__img.src),!1)),l.queuedFiles.value=l.queuedFiles.value.filter(q=>q.__key!==u.__key),i("removed",[u]))}function fe(){l.files.value.forEach(u=>{u.__img!==void 0&&window.URL.revokeObjectURL(u.__img.src)})}function a(){return b.value||x.value.getElementsByClassName("q-uploader__input")[0]}function s(u,q){const $=P(u,q,l.files.value,!0),J=a();J!=null&&(J.value=""),$!==void 0&&($.forEach(j=>{if(l.updateFileStatus(j,"idle"),E.value+=j.size,o.noThumbnails!==!0&&j.type.toUpperCase().startsWith("IMAGE")){const ge=new Image;ge.src=window.URL.createObjectURL(j),j.__img=ge}}),l.files.value=l.files.value.concat($),l.queuedFiles.value=l.queuedFiles.value.concat($),i("added",$),o.autoUpload===!0&&l.upload())}function z(){w.value===!0&&l.upload()}function M(u,q,$){if(u===!0){const J={type:"a",key:q,icon:p.iconSet.uploader[q],flat:!0,dense:!0};let j;return q==="add"?(J.onClick=V,j=Q):J.onClick=$,f($e,J,j)}}function Q(){return f("input",{ref:b,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:o.accept,multiple:o.multiple===!0?"multiple":void 0,capture:o.capture,onMousedown:me,onClick:V,onChange:s})}function I(){return h.header!==void 0?h.header(N):[f("div",{class:"q-uploader__header-content column"},[f("div",{class:"flex flex-center no-wrap q-gutter-xs"},[M(l.queuedFiles.value.length!==0,"removeQueue",ce),M(l.uploadedFiles.value.length!==0,"removeUploaded",K),l.isUploading.value===!0?f(bt,{class:"q-uploader__spinner"}):null,f("div",{class:"col column justify-center"},[o.label!==void 0?f("div",{class:"q-uploader__title"},[o.label]):null,f("div",{class:"q-uploader__subtitle"},[D.value+" / "+O.value])]),M(G.value,"add"),M(o.hideUploadBtn===!1&&w.value===!0,"upload",l.upload),M(l.isUploading.value,"clear",l.abort)])])]}function A(){return h.list!==void 0?h.list(N):l.files.value.map(u=>f("div",{key:u.__key,class:"q-uploader__file relative-position"+(o.noThumbnails!==!0&&u.__img!==void 0?" q-uploader__file--img":"")+(u.__status==="failed"?" q-uploader__file--failed":u.__status==="uploaded"?" q-uploader__file--uploaded":""),style:o.noThumbnails!==!0&&u.__img!==void 0?{backgroundImage:'url("'+u.__img.src+'")',backgroundSize:o.thumbnailFit}:null},[f("div",{class:"q-uploader__file-header row flex-center no-wrap"},[u.__status==="failed"?f(Ve,{class:"q-uploader__file-status",name:p.iconSet.type.negative,color:"negative"}):null,f("div",{class:"q-uploader__file-header-content col"},[f("div",{class:"q-uploader__title"},[u.name]),f("div",{class:"q-uploader__subtitle row items-center no-wrap"},[u.__sizeLabel+" / "+u.__progressLabel])]),u.__status==="uploading"?f($l,{value:u.__progress,min:0,max:1,indeterminate:u.__progress===0}):f($e,{round:!0,dense:!0,flat:!0,icon:p.iconSet.uploader[u.__status==="uploaded"?"done":"clear"],onClick:()=>{ne(u)}})])]))}tt(()=>{l.isUploading.value===!0&&l.abort(),l.files.value.length!==0&&fe()});const N={};for(const u in l)rl(l[u])===!0?sl(N,u,()=>l[u].value):N[u]=l[u];return Object.assign(N,{upload:z,reset:te,removeUploadedFiles:K,removeQueuedFiles:ce,removeFile:ne,pickFiles:V,addFiles:S}),cl(N,{canAddFiles:()=>G.value,canUpload:()=>w.value,uploadSizeLabel:()=>D.value,uploadProgressLabel:()=>O.value}),r({...l,upload:z,reset:te,removeUploadedFiles:K,removeQueuedFiles:ce,removeFile:ne,pickFiles:V,addFiles:S,canAddFiles:G,canUpload:w,uploadSizeLabel:D,uploadProgressLabel:O}),()=>{const u=[f("div",{class:ae.value},I()),f("div",{class:"q-uploader__list scroll"},A()),T("uploader")];l.isBusy.value===!0&&u.push(f("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[f(bt)]));const q={ref:x,class:ee.value};return G.value===!0&&Object.assign(q,{onDragover:F,onDragleave:v}),f("div",q,u)}}const Yl=El(Ut),Gl=({name:e,props:r,emits:n,injectPlugin:o})=>Be({name:e,props:{...Wl,...r},emits:vl(n)===!0?{...Yl,...n}:[...Ut,...n],setup(h,{expose:i}){return Xl(o,i)}});function re(e){return typeof e=="function"?e:()=>e}const Jl="QUploader",Zl={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},ea=["factoryFailed","uploaded","failed","uploading"];function ta({props:e,emit:r,helpers:n}){const o=L([]),h=L([]),i=L(0),C=m(()=>({url:re(e.url),method:re(e.method),headers:re(e.headers),formFields:re(e.formFields),fieldName:re(e.fieldName),withCredentials:re(e.withCredentials),sendRaw:re(e.sendRaw),batch:re(e.batch)})),p=m(()=>i.value>0),y=m(()=>h.value.length!==0);let R;function g(){o.value.forEach(l=>{l.abort()}),h.value.length!==0&&(R=!0)}function k(){const l=n.queuedFiles.value.slice(0);n.queuedFiles.value=[],C.value.batch(l)?x(l):l.forEach(V=>{x([V])})}function x(l){if(i.value++,typeof e.factory!="function"){b(l,{});return}const V=e.factory(l);if(!V)r("factoryFailed",new Error("QUploader: factory() does not return properly"),l),i.value--;else if(typeof V.catch=="function"&&typeof V.then=="function"){h.value.push(V);const S=F=>{n.isAlive()===!0&&(h.value=h.value.filter(v=>v!==V),h.value.length===0&&(R=!1),n.queuedFiles.value=n.queuedFiles.value.concat(l),l.forEach(v=>{n.updateFileStatus(v,"failed")}),r("factoryFailed",F,l),i.value--)};V.then(F=>{R===!0?S(new Error("Aborted")):n.isAlive()===!0&&(h.value=h.value.filter(v=>v!==V),b(l,F))}).catch(S)}else b(l,V||{})}function b(l,V){const S=new FormData,F=new XMLHttpRequest,v=(w,ee)=>V[w]!==void 0?re(V[w])(ee):C.value[w](ee),P=v("url",l);if(!P){console.error("q-uploader: invalid or no URL specified"),i.value--;return}const T=v("formFields",l);T!==void 0&&T.forEach(w=>{S.append(w.name,w.value)});let Z=0,_=0,E=0,X=0,O;F.upload.addEventListener("progress",w=>{if(O===!0)return;const ee=Math.min(X,w.loaded);n.uploadedSize.value+=ee-E,E=ee;let ae=E-_;for(let te=Z;ae>0&&te<l.length;te++){const K=l[te];if(ae>K.size)ae-=K.size,Z++,_+=K.size,n.updateFileStatus(K,"uploading",K.size);else{n.updateFileStatus(K,"uploading",ae);return}}},!1),F.onreadystatechange=()=>{F.readyState<4||(F.status&&F.status<400?(n.uploadedFiles.value=n.uploadedFiles.value.concat(l),l.forEach(w=>{n.updateFileStatus(w,"uploaded")}),r("uploaded",{files:l,xhr:F})):(O=!0,n.uploadedSize.value-=E,n.queuedFiles.value=n.queuedFiles.value.concat(l),l.forEach(w=>{n.updateFileStatus(w,"failed")}),r("failed",{files:l,xhr:F})),i.value--,o.value=o.value.filter(w=>w!==F))},F.open(v("method",l),P),v("withCredentials",l)===!0&&(F.withCredentials=!0);const D=v("headers",l);D!==void 0&&D.forEach(w=>{F.setRequestHeader(w.name,w.value)});const G=v("sendRaw",l);l.forEach(w=>{n.updateFileStatus(w,"uploading",0),G!==!0&&S.append(v("fieldName",w),w,w.name),w.xhr=F,w.__abort=()=>{F.abort()},X+=w.size}),r("uploading",{files:l,xhr:F}),o.value.push(F),G===!0?F.send(new Blob(l)):F.send(S)}return{isUploading:p,isBusy:y,abort:g,upload:k}}const la={name:Jl,props:Zl,emits:ea,injectPlugin:ta},_a=Gl(la);let je=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const r=document.createElement("div");Object.assign(r.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(r),e.scrollLeft=-1e3,je=e.scrollLeft>=0,e.remove()}const ue=1e3,aa=["start","center","end","start-force","center-force","end-force"],Nt=Array.prototype.filter,ua=window.getComputedStyle(document.body).overflowAnchor===void 0?ml:function(e,r){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];Nt.call(n,h=>h.dataset&&h.dataset.qVsAnchor!==void 0).forEach(h=>{delete h.dataset.qVsAnchor});const o=n[r];o?.dataset&&(o.dataset.qVsAnchor="")}))};function Ae(e,r){return e+r}function Je(e,r,n,o,h,i,C,p){const y=e===window?document.scrollingElement||document.documentElement:e,R=h===!0?"offsetWidth":"offsetHeight",g={scrollStart:0,scrollViewSize:-C-p,scrollMaxSize:0,offsetStart:-C,offsetEnd:-p};if(h===!0?(e===window?(g.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,g.scrollViewSize+=document.documentElement.clientWidth):(g.scrollStart=y.scrollLeft,g.scrollViewSize+=y.clientWidth),g.scrollMaxSize=y.scrollWidth,i===!0&&(g.scrollStart=(je===!0?g.scrollMaxSize-g.scrollViewSize:0)-g.scrollStart)):(e===window?(g.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,g.scrollViewSize+=document.documentElement.clientHeight):(g.scrollStart=y.scrollTop,g.scrollViewSize+=y.clientHeight),g.scrollMaxSize=y.scrollHeight),n!==null)for(let k=n.previousElementSibling;k!==null;k=k.previousElementSibling)k.classList.contains("q-virtual-scroll--skip")===!1&&(g.offsetStart+=k[R]);if(o!==null)for(let k=o.nextElementSibling;k!==null;k=k.nextElementSibling)k.classList.contains("q-virtual-scroll--skip")===!1&&(g.offsetEnd+=k[R]);if(r!==e){const k=y.getBoundingClientRect(),x=r.getBoundingClientRect();h===!0?(g.offsetStart+=x.left-k.left,g.offsetEnd-=x.width):(g.offsetStart+=x.top-k.top,g.offsetEnd-=x.height),e!==window&&(g.offsetStart+=g.scrollStart),g.offsetEnd+=g.scrollMaxSize-g.offsetStart}return g}function Ft(e,r,n,o){r==="end"&&(r=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(o===!0&&(r=(je===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-r),window.scrollTo(r,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,r):n===!0?(o===!0&&(r=(je===!0?e.scrollWidth-e.offsetWidth:0)-r),e.scrollLeft=r):e.scrollTop=r}function Le(e,r,n,o){if(n>=o)return 0;const h=r.length,i=Math.floor(n/ue),C=Math.floor((o-1)/ue)+1;let p=e.slice(i,C).reduce(Ae,0);return n%ue!==0&&(p-=r.slice(i*ue,n).reduce(Ae,0)),o%ue!==0&&o!==h&&(p-=r.slice(o,C*ue).reduce(Ae,0)),p}const Ht={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},wa=Object.keys(Ht),qt={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Ht};function na({virtualScrollLength:e,getVirtualScrollTarget:r,getVirtualScrollEl:n,virtualScrollItemSizeComputed:o}){const h=Ie(),{props:i,emit:C,proxy:p}=h,{$q:y}=p;let R,g,k,x=[],b;const l=L(0),V=L(0),S=L({}),F=L(null),v=L(null),P=L(null),T=L({from:0,to:0}),Z=m(()=>i.tableColspan!==void 0?i.tableColspan:100);o===void 0&&(o=m(()=>i.virtualScrollItemSize));const _=m(()=>o.value+";"+i.virtualScrollHorizontal),E=m(()=>_.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);_e(E,()=>{K()}),_e(_,X);function X(){te(g,!0)}function O(a){te(a===void 0?g:a)}function D(a,s){const z=r();if(z==null||z.nodeType===8)return;const M=Je(z,n(),F.value,v.value,i.virtualScrollHorizontal,y.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);k!==M.scrollViewSize&&K(M.scrollViewSize),w(z,M,Math.min(e.value-1,Math.max(0,parseInt(a,10)||0)),0,aa.indexOf(s)!==-1?s:g!==-1&&a>g?"end":"start")}function G(){const a=r();if(a==null||a.nodeType===8)return;const s=Je(a,n(),F.value,v.value,i.virtualScrollHorizontal,y.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),z=e.value-1,M=s.scrollMaxSize-s.offsetStart-s.offsetEnd-V.value;if(R===s.scrollStart)return;if(s.scrollMaxSize<=0){w(a,s,0,0);return}k!==s.scrollViewSize&&K(s.scrollViewSize),ee(T.value.from);const Q=Math.floor(s.scrollMaxSize-Math.max(s.scrollViewSize,s.offsetEnd)-Math.min(b[z],s.scrollViewSize/2));if(Q>0&&Math.ceil(s.scrollStart)>=Q){w(a,s,z,s.scrollMaxSize-s.offsetEnd-x.reduce(Ae,0));return}let I=0,A=s.scrollStart-s.offsetStart,N=A;if(A<=M&&A+s.scrollViewSize>=l.value)A-=l.value,I=T.value.from,N=A;else for(let u=0;A>=x[u]&&I<z;u++)A-=x[u],I+=ue;for(;A>0&&I<z;)A-=b[I],A>-s.scrollViewSize?(I++,N=A):N=b[I]+A;w(a,s,I,N)}function w(a,s,z,M,Q){const I=typeof Q=="string"&&Q.indexOf("-force")!==-1,A=I===!0?Q.replace("-force",""):Q,N=A!==void 0?A:"start";let u=Math.max(0,z-S.value[N]),q=u+S.value.total;q>e.value&&(q=e.value,u=Math.max(0,q-S.value.total)),R=s.scrollStart;const $=u!==T.value.from||q!==T.value.to;if($===!1&&A===void 0){de(z);return}const{activeElement:J}=document,j=P.value;$===!0&&j!==null&&j!==J&&j.contains(J)===!0&&(j.addEventListener("focusout",ae),setTimeout(()=>{j?.removeEventListener("focusout",ae)})),ua(j,z-u);const ge=A!==void 0?b.slice(u,z).reduce(Ae,0):0;if($===!0){const he=q>=T.value.from&&u<=T.value.to?T.value.to:q;T.value={from:u,to:he},l.value=Le(x,b,0,u),V.value=Le(x,b,q,e.value),requestAnimationFrame(()=>{T.value.to!==q&&R===s.scrollStart&&(T.value={from:T.value.from,to:q},V.value=Le(x,b,q,e.value))})}requestAnimationFrame(()=>{if(R!==s.scrollStart)return;$===!0&&ee(u);const he=b.slice(u,z).reduce(Ae,0),Se=he+s.offsetStart+l.value,Te=Se+b[z];let Oe=Se+M;if(A!==void 0){const Qe=he-ge,Re=s.scrollStart+Qe;Oe=I!==!0&&Re<Se&&Te<Re+s.scrollViewSize?Re:A==="end"?Te-s.scrollViewSize:Se-(A==="start"?0:Math.round((s.scrollViewSize-b[z])/2))}R=Oe,Ft(a,Oe,i.virtualScrollHorizontal,y.lang.rtl),de(z)})}function ee(a){const s=P.value;if(s){const z=Nt.call(s.children,u=>u.classList&&u.classList.contains("q-virtual-scroll--skip")===!1),M=z.length,Q=i.virtualScrollHorizontal===!0?u=>u.getBoundingClientRect().width:u=>u.offsetHeight;let I=a,A,N;for(let u=0;u<M;){for(A=Q(z[u]),u++;u<M&&z[u].classList.contains("q-virtual-scroll--with-prev")===!0;)A+=Q(z[u]),u++;N=A-b[I],N!==0&&(b[I]+=N,x[Math.floor(I/ue)]+=N),I++}}}function ae(){P.value?.focus()}function te(a,s){const z=1*o.value;(s===!0||Array.isArray(b)===!1)&&(b=[]);const M=b.length;b.length=e.value;for(let I=e.value-1;I>=M;I--)b[I]=z;const Q=Math.floor((e.value-1)/ue);x=[];for(let I=0;I<=Q;I++){let A=0;const N=Math.min((I+1)*ue,e.value);for(let u=I*ue;u<N;u++)A+=b[u];x.push(A)}g=-1,R=void 0,l.value=Le(x,b,0,T.value.from),V.value=Le(x,b,T.value.to,e.value),a>=0?(ee(T.value.from),ve(()=>{D(a)})):ne()}function K(a){if(a===void 0&&typeof window<"u"){const A=r();A!=null&&A.nodeType!==8&&(a=Je(A,n(),F.value,v.value,i.virtualScrollHorizontal,y.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}k=a;const s=parseFloat(i.virtualScrollSliceRatioBefore)||0,z=parseFloat(i.virtualScrollSliceRatioAfter)||0,M=1+s+z,Q=a===void 0||a<=0?1:Math.ceil(a/o.value),I=Math.max(1,Q,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/M));S.value={total:Math.ceil(I*M),start:Math.ceil(I*s),center:Math.ceil(I*(.5+s)),end:Math.ceil(I*(1+s)),view:Q}}function ce(a,s){const z=i.virtualScrollHorizontal===!0?"width":"height",M={["--q-virtual-scroll-item-"+z]:o.value+"px"};return[a==="tbody"?f(a,{class:"q-virtual-scroll__padding",key:"before",ref:F},[f("tr",[f("td",{style:{[z]:`${l.value}px`,...M},colspan:Z.value})])]):f(a,{class:"q-virtual-scroll__padding",key:"before",ref:F,style:{[z]:`${l.value}px`,...M}}),f(a,{class:"q-virtual-scroll__content",key:"content",ref:P,tabindex:-1},s.flat()),a==="tbody"?f(a,{class:"q-virtual-scroll__padding",key:"after",ref:v},[f("tr",[f("td",{style:{[z]:`${V.value}px`,...M},colspan:Z.value})])]):f(a,{class:"q-virtual-scroll__padding",key:"after",ref:v,style:{[z]:`${V.value}px`,...M}})]}function de(a){g!==a&&(i.onVirtualScroll!==void 0&&C("virtualScroll",{index:a,from:T.value.from,to:T.value.to-1,direction:a<g?"decrease":"increase",ref:p}),g=a)}K();const ne=gl(G,y.platform.is.ios===!0?120:35);hl(()=>{K()});let fe=!1;return Sl(()=>{fe=!0}),bl(()=>{if(fe!==!0)return;const a=r();R!==void 0&&a!==void 0&&a!==null&&a.nodeType!==8?Ft(a,R,i.virtualScrollHorizontal,y.lang.rtl):D(g)}),tt(()=>{ne.cancel()}),Object.assign(p,{scrollTo:D,reset:X,refresh:O}),{virtualScrollSliceRange:T,virtualScrollSliceSizeComputed:S,setVirtualScrollSize:K,onVirtualScrollEvt:ne,localResetVirtualScroll:te,padVirtualScroll:ce,scrollTo:D,reset:X,refresh:O}}const oa=Be({name:"QField",inheritAttrs:!1,props:{...lt,tag:{type:String,default:"label"}},emits:Et,setup(){return Mt(Lt({tagProp:!0}))}}),ia={xs:8,sm:10,md:14,lg:20,xl:24},ra=Be({name:"QChip",props:{...Ot,...At,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:r,emit:n}){const{proxy:{$q:o}}=Ie(),h=Rt(e,o),i=Bt(e,ia),C=m(()=>e.selected===!0||e.icon!==void 0),p=m(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),y=m(()=>e.iconRemove||o.iconSet.chip.remove),R=m(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),g=m(()=>{const S=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(S?` text-${S} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(R.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(h.value===!0?" q-chip--dark q-dark":"")}),k=m(()=>{const S=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},F={...S,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||o.lang.label.remove};return{chip:S,remove:F}});function x(S){S.keyCode===13&&b(S)}function b(S){e.disable||(n("update:selected",!e.selected),n("click",S))}function l(S){(S.keyCode===void 0||S.keyCode===13)&&(se(S),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function V(){const S=[];R.value===!0&&S.push(f("div",{class:"q-focus-helper"})),C.value===!0&&S.push(f(Ve,{class:"q-chip__icon q-chip__icon--left",name:p.value}));const F=e.label!==void 0?[f("div",{class:"ellipsis"},[e.label])]:void 0;return S.push(f("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},It(r.default,F))),e.iconRight&&S.push(f(Ve,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&S.push(f(Ve,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:y.value,...k.value.remove,onClick:l,onKeyup:l})),S}return()=>{if(e.modelValue===!1)return;const S={class:g.value,style:i.value};return R.value===!0&&Object.assign(S,k.value.chip,{onClick:b,onKeyup:x}),pl("div",S,V(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[yl,e.ripple]])}}}),zt=e=>["add","add-unique","toggle"].includes(e),sa=".*+?^${}()|[]\\",ca=Object.keys(lt);function Ze(e,r){if(typeof e=="function")return e;const n=e!==void 0?e:r;return o=>o!==null&&typeof o=="object"&&n in o?o[n]:o}const Ca=Be({name:"QSelect",inheritAttrs:!1,props:{...qt,..._l,...lt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:zt},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:qt.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Et,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:r,emit:n}){const{proxy:o}=Ie(),{$q:h}=o,i=L(!1),C=L(!1),p=L(-1),y=L(""),R=L(!1),g=L(!1);let k=null,x=null,b,l,V,S=null,F,v,P,T;const Z=L(null),_=L(null),E=L(null),X=L(null),O=L(null),D=wl(e),G=Cl(ft),w=m(()=>Array.isArray(e.options)?e.options.length:0),ee=m(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ae,virtualScrollSliceSizeComputed:te,localResetVirtualScroll:K,padVirtualScroll:ce,onVirtualScrollEvt:de,scrollTo:ne,setVirtualScrollSize:fe}=na({virtualScrollLength:w,getVirtualScrollTarget:Kt,getVirtualScrollEl:ct,virtualScrollItemSizeComputed:ee}),a=Lt(),s=m(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,c=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const d=e.mapOptions===!0&&b!==void 0?b:[],B=c.map(H=>Qt(H,d));return e.modelValue===null&&t===!0?B.filter(H=>H!==null):B}return c}),z=m(()=>{const t={};return ca.forEach(c=>{const d=e[c];d!==void 0&&(t[c]=d)}),t}),M=m(()=>e.optionsDark===null?a.isDark.value:e.optionsDark),Q=m(()=>pt(s.value)),I=m(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||s.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),A=m(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),N=m(()=>w.value===0),u=m(()=>s.value.map(t=>le.value(t)).join(", ")),q=m(()=>e.displayValue!==void 0?e.displayValue:u.value),$=m(()=>e.optionsHtml===!0?()=>!0:t=>t?.html===!0),J=m(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||s.value.some($.value))),j=m(()=>a.focused.value===!0?e.tabindex:-1),ge=m(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${a.targetUid.value}_lb`};return p.value>=0&&(t["aria-activedescendant"]=`${a.targetUid.value}_${p.value}`),t}),he=m(()=>({id:`${a.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Se=m(()=>s.value.map((t,c)=>({index:c,opt:t,html:$.value(t),selected:!0,removeAtIndex:jt,toggleOption:be,tabindex:j.value}))),Te=m(()=>{if(w.value===0)return[];const{from:t,to:c}=ae.value;return e.options.slice(t,c).map((d,B)=>{const H=we.value(d)===!0,U=We(d)===!0,Y=t+B,W={clickable:!0,active:U,activeClass:Re.value,manualFocus:!0,focused:!1,disable:H,tabindex:-1,dense:e.optionsDense,dark:M.value,role:"option","aria-selected":U===!0?"true":"false",id:`${a.targetUid.value}_${Y}`,onClick:()=>{be(d)}};return H!==!0&&(p.value===Y&&(W.focused=!0),h.platform.is.desktop===!0&&(W.onMousemove=()=>{i.value===!0&&Ce(Y)})),{index:Y,opt:d,html:$.value(d),label:le.value(d),selected:W.active,focused:W.focused,toggleOption:be,setOptionIndex:Ce,itemProps:W}})}),Oe=m(()=>e.dropdownIcon!==void 0?e.dropdownIcon:h.iconSet.arrow.dropdown),Qe=m(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Re=m(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),oe=m(()=>Ze(e.optionValue,"value")),le=m(()=>Ze(e.optionLabel,"label")),we=m(()=>Ze(e.optionDisable,"disable")),De=m(()=>s.value.map(oe.value)),$t=m(()=>{const t={onInput:ft,onChange:G,onKeydown:st,onKeyup:it,onKeypress:rt,onFocus:nt,onClick(c){l===!0&&me(c)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=G,t});_e(s,t=>{b=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&a.innerLoading.value!==!0&&(C.value!==!0&&i.value!==!0||Q.value!==!0)&&(V!==!0&&qe(),(C.value===!0||i.value===!0)&&ke(""))},{immediate:!0}),_e(()=>e.fillInput,qe),_e(i,Xe),_e(w,nl);function at(t){return e.emitValue===!0?oe.value(t):t}function Ke(t){if(t!==-1&&t<s.value.length)if(e.multiple===!0){const c=e.modelValue.slice();n("remove",{index:t,value:c.splice(t,1)[0]}),n("update:modelValue",c)}else n("update:modelValue",null)}function jt(t){Ke(t),a.focus()}function ut(t,c){const d=at(t);if(e.multiple!==!0){e.fillInput===!0&&Ee(le.value(t),!0,!0),n("update:modelValue",d);return}if(s.value.length===0){n("add",{index:0,value:d}),n("update:modelValue",e.multiple===!0?[d]:d);return}if(c===!0&&We(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const B=e.modelValue.slice();n("add",{index:B.length,value:d}),B.push(d),n("update:modelValue",B)}function be(t,c){if(a.editable.value!==!0||t===void 0||we.value(t)===!0)return;const d=oe.value(t);if(e.multiple!==!0){c!==!0&&(Ee(e.fillInput===!0?le.value(t):"",!0,!0),pe()),_.value?.focus(),(s.value.length===0||Me(oe.value(s.value[0]),d)!==!0)&&n("update:modelValue",e.emitValue===!0?d:t);return}if((l!==!0||R.value===!0)&&a.focus(),nt(),s.value.length===0){const U=e.emitValue===!0?d:t;n("add",{index:0,value:U}),n("update:modelValue",e.multiple===!0?[U]:U);return}const B=e.modelValue.slice(),H=De.value.findIndex(U=>Me(U,d));if(H!==-1)n("remove",{index:H,value:B.splice(H,1)[0]});else{if(e.maxValues!==void 0&&B.length>=e.maxValues)return;const U=e.emitValue===!0?d:t;n("add",{index:B.length,value:U}),B.push(U)}n("update:modelValue",B)}function Ce(t){if(h.platform.is.desktop!==!0)return;const c=t!==-1&&t<w.value?t:-1;p.value!==c&&(p.value=c)}function Pe(t=1,c){if(i.value===!0){let d=p.value;do d=Ct(d+t,-1,w.value-1);while(d!==-1&&d!==p.value&&we.value(e.options[d])===!0);p.value!==d&&(Ce(d),ne(d),c!==!0&&e.useInput===!0&&e.fillInput===!0&&Ue(d>=0?le.value(e.options[d]):F,!0))}}function Qt(t,c){const d=B=>Me(oe.value(B),t);return e.options.find(d)||c.find(d)||t}function We(t){const c=oe.value(t);return De.value.find(d=>Me(d,c))!==void 0}function nt(t){e.useInput===!0&&_.value!==null&&(t===void 0||_.value===t.target&&t.target.value===u.value)&&_.value.select()}function ot(t){ql(t,27)===!0&&i.value===!0&&(me(t),pe(),qe()),n("keyup",t)}function it(t){const{value:c}=t.target;if(t.keyCode!==void 0){ot(t);return}if(t.target.value="",k!==null&&(clearTimeout(k),k=null),x!==null&&(clearTimeout(x),x=null),qe(),typeof c=="string"&&c.length!==0){const d=c.toLocaleLowerCase(),B=U=>{const Y=e.options.find(W=>String(U.value(W)).toLocaleLowerCase()===d);return Y===void 0?!1:(s.value.indexOf(Y)===-1?be(Y):pe(),!0)},H=U=>{B(oe)!==!0&&U!==!0&&B(le)!==!0&&ke(c,!0,()=>H(!0))};H()}else a.clearValue(t)}function rt(t){n("keypress",t)}function st(t){if(n("keydown",t),kl(t)===!0)return;const c=y.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),d=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(p.value!==-1||c===!0);if(t.keyCode===27){Ge(t);return}if(t.keyCode===9&&d===!1){xe();return}if(t.target===void 0||t.target.id!==a.targetUid.value||a.editable.value!==!0)return;if(t.keyCode===40&&a.innerLoading.value!==!0&&i.value===!1){se(t),Fe();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&y.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ke(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof y.value!="string"||y.value.length===0)&&(se(t),p.value=-1,Pe(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&te.value!==void 0&&(se(t),p.value=Math.max(-1,Math.min(w.value,p.value+(t.keyCode===33?-1:1)*te.value.view)),Pe(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(se(t),Pe(t.keyCode===38?-1:1,e.multiple));const B=w.value;if((P===void 0||T<Date.now())&&(P=""),B>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||P.length!==0)){i.value!==!0&&Fe(t);const H=t.key.toLocaleLowerCase(),U=P.length===1&&P[0]===H;T=Date.now()+1500,U===!1&&(se(t),P+=H);const Y=new RegExp("^"+P.split("").map(Ye=>sa.indexOf(Ye)!==-1?"\\"+Ye:Ye).join(".*"),"i");let W=p.value;if(U===!0||W<0||Y.test(le.value(e.options[W]))!==!0)do W=Ct(W+1,-1,B-1);while(W!==p.value&&(we.value(e.options[W])===!0||Y.test(le.value(e.options[W]))!==!0));p.value!==W&&ve(()=>{Ce(W),ne(W),W>=0&&e.useInput===!0&&e.fillInput===!0&&Ue(le.value(e.options[W]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||P!=="")&&(t.keyCode!==9||d===!1))){if(t.keyCode!==9&&se(t),p.value!==-1&&p.value<B){be(e.options[p.value]);return}if(c===!0){const H=(U,Y)=>{if(Y){if(zt(Y)!==!0)return}else Y=e.newValueMode;if(Ee("",e.multiple!==!0,!0),U==null)return;(Y==="toggle"?be:ut)(U,Y==="add-unique"),e.multiple!==!0&&(_.value?.focus(),pe())};if(e.onNewValue!==void 0?n("newValue",y.value,H):H(y.value),e.multiple!==!0)return}i.value===!0?xe():a.innerLoading.value!==!0&&Fe()}}function ct(){return l===!0?O.value:E.value!==null&&E.value.contentEl!==null?E.value.contentEl:void 0}function Kt(){return ct()}function Wt(){return e.hideSelected===!0?[]:r["selected-item"]!==void 0?Se.value.map(t=>r["selected-item"](t)).slice():r.selected!==void 0?[].concat(r.selected()):e.useChips===!0?Se.value.map((t,c)=>f(ra,{key:"option-"+c,removable:a.editable.value===!0&&we.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:j.value,onRemove(){t.removeAtIndex(c)}},()=>f("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:le.value(t.opt)}))):[f("span",{class:"ellipsis",[J.value===!0?"innerHTML":"textContent"]:q.value})]}function dt(){if(N.value===!0)return r["no-option"]!==void 0?r["no-option"]({inputValue:y.value}):void 0;const t=r.option!==void 0?r.option:d=>f(Dl,{key:d.index,...d.itemProps},()=>f(Tl,()=>f(Ml,()=>f("span",{[d.html===!0?"innerHTML":"textContent"]:d.label}))));let c=ce("div",Te.value.map(t));return r["before-options"]!==void 0&&(c=r["before-options"]().concat(c)),zl(r["after-options"],c)}function Xt(t,c){const d=c===!0?{...ge.value,...a.splitAttrs.attributes.value}:void 0,B={ref:c===!0?_:void 0,key:"i_t",class:I.value,style:e.inputStyle,value:y.value!==void 0?y.value:"",type:"search",...d,id:c===!0?a.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...$t.value};return t!==!0&&l===!0&&(Array.isArray(B.class)===!0?B.class=[...B.class,"no-pointer-events"]:B.class+=" no-pointer-events"),f("input",B)}function ft(t){k!==null&&(clearTimeout(k),k=null),x!==null&&(clearTimeout(x),x=null),!(t&&t.target&&t.target.qComposing===!0)&&(Ue(t.target.value||""),V=!0,F=y.value,a.focused.value!==!0&&(l!==!0||R.value===!0)&&a.focus(),e.onFilter!==void 0&&(k=setTimeout(()=>{k=null,ke(y.value)},e.inputDebounce)))}function Ue(t,c){y.value!==t&&(y.value=t,c===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",t):x=setTimeout(()=>{x=null,n("inputValue",t)},e.inputDebounce))}function Ee(t,c,d){V=d!==!0,e.useInput===!0&&(Ue(t,!0),(c===!0||d!==!0)&&(F=t),c!==!0&&ke(t))}function ke(t,c,d){if(e.onFilter===void 0||c!==!0&&a.focused.value!==!0)return;a.innerLoading.value===!0?n("filterAbort"):(a.innerLoading.value=!0,g.value=!0),t!==""&&e.multiple!==!0&&s.value.length!==0&&V!==!0&&t===le.value(s.value[0])&&(t="");const B=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);S!==null&&clearTimeout(S),S=B,n("filter",t,(H,U)=>{(c===!0||a.focused.value===!0)&&S===B&&(clearTimeout(S),typeof H=="function"&&H(),g.value=!1,ve(()=>{a.innerLoading.value=!1,a.editable.value===!0&&(c===!0?i.value===!0&&pe():i.value===!0?Xe(!0):i.value=!0),typeof U=="function"&&ve(()=>{U(o)}),typeof d=="function"&&ve(()=>{d(o)})}))},()=>{a.focused.value===!0&&S===B&&(clearTimeout(S),a.innerLoading.value=!1,g.value=!1),i.value===!0&&(i.value=!1)})}function Yt(){return f(Ul,{ref:E,class:A.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&N.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:M.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Qe.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...he.value,onScrollPassive:de,onBeforeShow:mt,onBeforeHide:Gt,onShow:Jt},dt)}function Gt(t){gt(t),xe()}function Jt(){fe()}function Zt(t){me(t),_.value?.focus(),R.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function el(t){me(t),ve(()=>{R.value=!1})}function tl(){const t=[f(oa,{class:`col-auto ${a.fieldClass.value}`,...z.value,for:a.targetUid.value,dark:M.value,square:!0,loading:g.value,itemAligned:!1,filled:!0,stackLabel:y.value.length!==0,...a.splitAttrs.listeners.value,onFocus:Zt,onBlur:el},{...r,rawControl:()=>a.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&t.push(f("div",{ref:O,class:A.value+" scroll",style:e.popupContentStyle,...he.value,onClick:Ge,onScrollPassive:de},dt())),f(Tt,{ref:X,modelValue:C.value,position:e.useInput===!0?"top":void 0,transitionShow:v,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:mt,onBeforeHide:ll,onHide:al,onShow:ul},()=>f("div",{class:"q-select__dialog"+(M.value===!0?" q-select__dialog--dark q-dark":"")+(R.value===!0?" q-select__dialog--focused":"")},t))}function ll(t){gt(t),X.value!==null&&X.value.__updateRefocusTarget(a.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),a.focused.value=!1}function al(t){pe(),a.focused.value===!1&&n("blur",t),qe()}function ul(){const t=document.activeElement;(t===null||t.id!==a.targetUid.value)&&_.value!==null&&_.value!==t&&_.value.focus(),fe()}function xe(){C.value!==!0&&(p.value=-1,i.value===!0&&(i.value=!1),a.focused.value===!1&&(S!==null&&(clearTimeout(S),S=null),a.innerLoading.value===!0&&(n("filterAbort"),a.innerLoading.value=!1,g.value=!1)))}function Fe(t){a.editable.value===!0&&(l===!0?(a.onControlFocusin(t),C.value=!0,ve(()=>{a.focus()})):a.focus(),e.onFilter!==void 0?ke(y.value):(N.value!==!0||r["no-option"]!==void 0)&&(i.value=!0))}function pe(){C.value=!1,xe()}function qe(){e.useInput===!0&&Ee(e.multiple!==!0&&e.fillInput===!0&&s.value.length!==0&&le.value(s.value[0])||"",!0,!0)}function Xe(t){let c=-1;if(t===!0){if(s.value.length!==0){const d=oe.value(s.value[0]);c=e.options.findIndex(B=>Me(oe.value(B),d))}K(c)}Ce(c)}function nl(t,c){i.value===!0&&a.innerLoading.value===!1&&(K(-1,!0),ve(()=>{i.value===!0&&a.innerLoading.value===!1&&(t>c?K():Xe(!0))}))}function vt(){C.value===!1&&E.value!==null&&E.value.updatePosition()}function mt(t){t!==void 0&&me(t),n("popupShow",t),a.hasPopupOpen=!0,a.onControlFocusin(t)}function gt(t){t!==void 0&&me(t),n("popupHide",t),a.hasPopupOpen=!1,a.onControlFocusout(t)}function ht(){l=h.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?r["no-option"]!==void 0||e.onFilter!==void 0||N.value===!1:!0),v=h.platform.is.ios===!0&&l===!0&&e.useInput===!0?"fade":e.transitionShow}return xl(ht),Fl(vt),ht(),tt(()=>{k!==null&&clearTimeout(k),x!==null&&clearTimeout(x)}),Object.assign(o,{showPopup:Fe,hidePopup:pe,removeAtIndex:Ke,add:ut,toggleOption:be,getOptionIndex:()=>p.value,setOptionIndex:Ce,moveOptionSelection:Pe,filter:ke,updateMenuPosition:vt,updateInputValue:Ee,isOptionSelected:We,getEmittingOptionValue:at,isOptionDisabled:(...t)=>we.value.apply(null,t)===!0,getOptionValue:(...t)=>oe.value.apply(null,t),getOptionLabel:(...t)=>le.value.apply(null,t)}),Object.assign(a,{innerValue:s,fieldClass:m(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:Z,targetRef:_,hasValue:Q,showPopup:Fe,floatingLabel:m(()=>e.hideSelected!==!0&&Q.value===!0||typeof y.value=="number"||y.value.length!==0||pt(e.displayValue)),getControlChild:()=>{if(a.editable.value!==!1&&(C.value===!0||N.value!==!0||r["no-option"]!==void 0))return l===!0?tl():Yt();a.hasPopupOpen===!0&&(a.hasPopupOpen=!1)},controlEvents:{onFocusin(t){a.onControlFocusin(t)},onFocusout(t){a.onControlFocusout(t,()=>{qe(),xe()})},onClick(t){if(Ge(t),l!==!0&&i.value===!0){xe(),_.value?.focus();return}Fe(t)}},getControl:t=>{const c=Wt(),d=t===!0||C.value!==!0||l!==!0;if(e.useInput===!0)c.push(Xt(t,d));else if(a.editable.value===!0){const H=d===!0?ge.value:void 0;c.push(f("input",{ref:d===!0?_:void 0,key:"d_t",class:"q-select__focus-target",id:d===!0?a.targetUid.value:void 0,value:q.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...H,onKeydown:st,onKeyup:ot,onKeypress:rt})),d===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&c.push(f("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:it}))}if(D.value!==void 0&&e.disable!==!0&&De.value.length!==0){const H=De.value.map(U=>f("option",{value:U,selected:!0}));c.push(f("select",{class:"hidden",name:D.value,multiple:e.multiple},H))}const B=e.useInput===!0||d!==!0?void 0:a.splitAttrs.attributes.value;return f("div",{class:"q-field__native row items-center",...B,...a.splitAttrs.listeners.value},c)},getInnerAppend:()=>e.loading!==!0&&g.value!==!0&&e.hideDropdownIcon!==!0?[f(Ve,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:Oe.value})]:null}),Mt(a)}}),da={class:"q-px-md"},fa={class:"text-bold"},va={__name:"deleteFile",props:{fileName:{type:String,required:!0}},setup(e){const{dialogRef:r,onDialogOK:n,onDialogCancel:o}=Ll(),h=e;return(i,C)=>(Al(),Vl(Tt,{ref_key:"dialogRef",ref:r},{default:ye(()=>[ie(Bl,null,{default:ye(()=>[ie(yt,{class:"row items-center"},{default:ye(()=>[ie(Ve,{name:"delete",size:"2em",color:"negative"}),C[0]||(C[0]=Ne("div",{class:"text-h6 q-ml-md"},"Delete File",-1))]),_:1,__:[0]}),ie(yt,null,{default:ye(()=>[Ne("div",da,[Ne("div",fa,Il(h.fileName),1),C[1]||(C[1]=Ne("div",null,"Are you sure you want to delete this file?",-1))])]),_:1}),ie(Ol,{align:"right"},{default:ye(()=>[ie($e,{round:"",flat:"",icon:"cancel",color:"grey",onClick:_t(o)},{default:ye(()=>[ie(kt,{msg:"Cancel"})]),_:1},8,["onClick"]),ie($e,{round:"",flat:"",icon:"check_circle",color:"negative",onClick:_t(n)},{default:ye(()=>[ie(kt,{msg:"Delete"})]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},512))}},ka=Pl(va,[["__scopeId","data-v-5c153c89"]]);export{_a as Q,$l as a,ya as b,na as c,wa as d,Ca as e,ka as f,ra as g,je as r,qt as u};
