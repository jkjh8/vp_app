import{i as N,j as R,k as j,l as w,m as P,n as b,p as M,q as c,v as f,x as O,y as I,z as x,f as y,o as _,e as v,b as h,t as D,a as r,u as E,r as K,c as U,w as g,Q as A}from"./index-D06vnydI.js";import{Q as G,_ as J,M as T,a as W,b as X}from"./menuSmall-BGig4RkU.js";import{Q as Y}from"./QResizeObserver-DoTiJI4m.js";import{_ as Z,a as ee}from"./timeSlider-C-NBw-7H.js";import{u as te}from"./useStatus-BO6TZKr_.js";import"./QMenu-CtJ5DN5R.js";import"./position-engine-CCjzhR2y.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./delayedTooltip-DIz3BjMV.js";import"./usePlayer-CWHD5-ia.js";import"./useApi-DyMPQWJu.js";import"./socketio-BzY1gKe2.js";import"./QSlider-C1BfcHnS.js";import"./TouchPan-Bk3tvTHN.js";import"./format-CJebrXOQ.js";const oe=N({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(o,{slots:n,emit:m}){const{proxy:{$q:s}}=R(),t=j(P,w);if(t===w)return console.error("QFooter needs to be child of QLayout"),w;const l=b(parseInt(o.heightHint,10)),i=b(!0),C=b(M.value===!0||t.isContainer.value===!0?0:window.innerHeight),p=c(()=>o.reveal===!0||t.view.value.indexOf("F")!==-1||s.platform.is.ios&&t.isContainer.value===!0),Q=c(()=>t.isContainer.value===!0?t.containerHeight.value:C.value),q=c(()=>{if(o.modelValue!==!0)return 0;if(p.value===!0)return i.value===!0?l.value:0;const e=t.scroll.value.position+Q.value+l.value-t.height.value;return e>0?e:0}),V=c(()=>o.modelValue!==!0||p.value===!0&&i.value!==!0),z=c(()=>o.modelValue===!0&&V.value===!0&&o.reveal===!0),B=c(()=>"q-footer q-layout__section--marginal "+(p.value===!0?"fixed":"absolute")+"-bottom"+(o.bordered===!0?" q-footer--bordered":"")+(V.value===!0?" q-footer--hidden":"")+(o.modelValue!==!0?" q-layout--prevent-focus"+(p.value!==!0?" hidden":""):"")),H=c(()=>{const e=t.rows.value.bottom,a={};return e[0]==="l"&&t.left.space===!0&&(a[s.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),e[2]==="r"&&t.right.space===!0&&(a[s.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),a});function u(e,a){t.update("footer",e,a)}function d(e,a){e.value!==a&&(e.value=a)}function k({height:e}){d(l,e),u("size",e)}function F(){if(o.reveal!==!0)return;const{direction:e,position:a,inflectionPoint:L}=t.scroll.value;d(i,e==="up"||a-L<100||t.height.value-Q.value-a-l.value<300)}function S(e){z.value===!0&&d(i,!0),m("focusin",e)}f(()=>o.modelValue,e=>{u("space",e),d(i,!0),t.animate()}),f(q,e=>{u("offset",e)}),f(()=>o.reveal,e=>{e===!1&&d(i,o.modelValue)}),f(i,e=>{t.animate(),m("reveal",e)}),f([l,t.scroll,t.height],F),f(()=>s.screen.height,e=>{t.isContainer.value!==!0&&d(C,e)});const $={};return t.instances.footer=$,o.modelValue===!0&&u("size",l.value),u("space",o.modelValue),u("offset",q.value),O(()=>{t.instances.footer===$&&(t.instances.footer=void 0,u("size",0),u("offset",0),u("space",!1))}),()=>{const e=I(n.default,[x(Y,{debounce:0,onResize:k})]);return o.elevated===!0&&e.push(x("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),x("footer",{class:B.value,style:H.value,onFocusin:S},e)}}}),ae={class:"row no-wrap justify-center items-center q-mt-sm"},re={key:0,class:"q-mr-md"},se={class:"text-bold"},ne={key:1,class:"text-grey"},ue={__name:"mediaName",setup(o){const{pStatus:n}=te();return(m,s)=>(_(),y("div",ae,[v(n).current&&Object.keys(v(n).current).length>0?(_(),y("div",re,[h("div",se,D(v(n).current.fieldname?v(n).current.fieldname:"No media selected"),1)])):(_(),y("div",ne,"No media selected"))]))}},le={__name:"PlayControl",setup(o){return(n,m)=>(_(),y("div",null,[h("div",null,[r(Z),r(ue),r(ee)])]))}},ie={class:"router-view"},qe={__name:"MainLayout",setup(o){const n=E();return(m,s)=>{const t=K("router-view");return _(),U(X,{view:"lHh Lpr lFf"},{default:g(()=>[r(G,{class:"header row no-wrap justify-between items-center"},{default:g(()=>[h("div",{class:"row q-gutter-x-sm pointer",onClick:s[0]||(s[0]=l=>v(n).push("/"))},[r(A,{name:"svguse:icons.svg#logo",size:"md"}),s[1]||(s[1]=h("div",{class:"header-font"},"Player Controls",-1))]),r(J,{class:"gt-xs"}),r(T,{class:"lt-sm"})]),_:1}),r(W,null,{default:g(()=>[h("div",ie,[r(t)])]),_:1}),r(oe,{class:"footer"},{default:g(()=>[r(le)]),_:1})]),_:1})}}};export{qe as default};
