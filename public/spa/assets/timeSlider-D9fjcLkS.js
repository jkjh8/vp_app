import{s as B,f as q,g as v,o,i as k,b as g,e as t,a,w as n,R as r,c as f,q as P,t as h}from"./index-e6m8LkIT.js";import{_ as s}from"./delayedTooltip-M5MF4nQO.js";import{u as M}from"./useStatus-DHY0xTda.js";import{u as N}from"./usePlayer-9_Vx6wEL.js";import{Q as R}from"./QSlider-C36uiveo.js";const T={class:"row no-wrap justify-center items-center q-mb-sm q-gutter-x-md"},F={key:0},V={key:1},O={__name:"controlBtns",setup(i){const{pStatus:e}=B(M()),{fnPlay:m,fnStop:c,fnPause:d,fnSetFullscreen:S,fnPrev:u,fnNext:_,setRepeat:x}=N(),y=q(()=>e.value.player?.[e.value.activePlayerId]||{time:0,duration:0,file:{},is_playing:0,is_image:!1}),l=async()=>{await x()};return(C,p)=>(o(),v("div",T,[t(e).playlistMode?(o(),v("div",F,[a(r,{flat:"",round:"",icon:"skip_previous",color:"primary",onClick:t(u)},{default:n(()=>[a(s,{msg:"Rewind"})]),_:1},8,["onClick"])])):k("",!0),g("div",null,[y.value.is_playing!==1?(o(),f(r,{key:0,flat:"",round:"",icon:"play_arrow",color:"primary",onClick:p[0]||(p[0]=w=>t(m)())},{default:n(()=>[a(s,{msg:"Play"})]),_:1})):(o(),f(r,{key:1,flat:"",round:"",icon:"pause",color:"primary",onClick:t(d),disabled:y.value.file.is_image},{default:n(()=>[a(s,{msg:"Pause"})]),_:1},8,["onClick","disabled"]))]),g("div",null,[a(r,{flat:"",round:"",icon:"stop",color:"red-10",onClick:p[1]||(p[1]=w=>t(c)())},{default:n(()=>[a(s,{msg:"Stop"})]),_:1})]),t(e).playlistMode?(o(),v("div",V,[a(r,{flat:"",round:"",icon:"skip_next",color:"primary",onClick:t(_)},{default:n(()=>[a(s,{msg:"Next"})]),_:1},8,["onClick"])])):k("",!0),g("div",null,[t(e).repeat==="none"?(o(),f(r,{key:0,flat:"",round:"",icon:"repeat",color:"grey-5",onClick:l},{default:n(()=>[a(s,{msg:"None"})]),_:1})):t(e).repeat==="all"?(o(),f(r,{key:1,flat:"",round:"",icon:"repeat",color:"primary",onClick:l},{default:n(()=>[a(s,{msg:"Repeat"})]),_:1})):t(e).playlistMode&&t(e).repeat==="repeat_one"?(o(),f(r,{key:2,flat:"",round:"",icon:"repeat_one",color:"primary",onClick:l},{default:n(()=>[a(s,{msg:"Repeat One"})]),_:1})):t(e).repeat==="single"?(o(),f(r,{key:3,flat:"",round:"",icon:"looks_one",color:"primary",onClick:l},{default:n(()=>[a(s,{msg:"Single"})]),_:1})):k("",!0)]),g("div",null,[a(r,{flat:"",round:"",icon:t(e)&&t(e).fullscreen?"fullscreen_exit":"fullscreen",color:"primary",onClick:p[2]||(p[2]=w=>t(S)(!t(e).fullscreen))},{default:n(()=>[a(s,{msg:t(e)&&t(e).fullscreen?"Exit Fullscreen":"Fullscreen"},null,8,["msg"])]),_:1},8,["icon"])])]))}},b=i=>i.toString().padStart(2,"0"),$=i=>{if(!Number.isFinite(i)||i<0)return"00:00:00";let e=Math.floor(i);const m=Math.floor(e/3600)%24,c=Math.floor(e%3600/60),d=e%60;return`${b(m)}:${b(c)}:${b(d)}`},E={class:"row no-wrap q-pt-none q-mt-none q-px-md q-gutter-x-sm items-center"},I={key:0,class:"gt-xs text-caption"},z={__name:"timeSlider",props:{time:{type:Boolean,default:!0}},setup(i){const{pStatus:e}=B(M()),{fnUpdateTime:m}=N(),c=P(0),d=P(!1),S=i,u=q(()=>e.value.player?.[e.value.activePlayerId]||{time:0,duration:0,file:{}}),_=q(()=>u.value?.file?.is_image??!1),x=l=>{c.value=l,!d.value&&!_.value&&m(c.value)},y=l=>{try{if(_.value)return;l==="start"?d.value=!0:l==="end"&&(d.value=!1,m(c.value))}catch(C){console.error("Error during panning:",C)}};return(l,C)=>(o(),v("div",E,[a(R,{class:"q-mt-none q-pt-none","model-value":u.value.time/1e3,min:0,step:.01,max:u.value.duration/1e3,label:"","label-value":t($)(u.value.time/1e3),"onUpdate:modelValue":x,onPan:y,disable:_.value},null,8,["model-value","max","label-value","disable"]),S.time?(o(),v("div",I,h(t($)(u.value.time/1e3))+"/"+h(t($)(u.value.duration/1e3)),1)):k("",!0)]))}};export{z as _,O as a,$ as m};
